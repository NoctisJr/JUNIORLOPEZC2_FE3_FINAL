{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Junior/Documents/DIGITAL HOUSE/Front end 3 - C2/EJERCICIOS/fe3-final/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Junior/Documents/DIGITAL HOUSE/Front end 3 - C2/EJERCICIOS/fe3-final/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Junior/Documents/DIGITAL HOUSE/Front end 3 - C2/EJERCICIOS/fe3-final/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"C:/Users/Junior/Documents/DIGITAL HOUSE/Front end 3 - C2/EJERCICIOS/fe3-final/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useReducer,useEffect,useMemo}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var TOGGLE_THEME='TOGGLE_THEME';var SET_DATA='SET_DATA';export var initialState={theme:\"light\",data:[]};export var ContextGlobal=/*#__PURE__*/createContext(initialState);var themeReducer=function themeReducer(state,action){switch(action.type){case TOGGLE_THEME:return _objectSpread(_objectSpread({},state),{},{theme:state.theme==='light'?'dark':'light'});case SET_DATA:return _objectSpread(_objectSpread({},state),{},{data:action.payload});default:return state;}};export var ContextProvider=function ContextProvider(_ref){var children=_ref.children;//Aqui deberan implementar la logica propia del Context, utilizando el hook useMemo\nvar _useReducer=useReducer(themeReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://jsonplaceholder.typicode.com/users');case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;dispatch({type:SET_DATA,payload:data});case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[]);// Función para alternar el tema\nvar toggleTheme=function toggleTheme(){dispatch({type:TOGGLE_THEME});};// Memoriza el valor del contexto\nvar value=useMemo(function(){return{state:state,toggleTheme:toggleTheme};},[state]);return/*#__PURE__*/_jsx(ContextGlobal.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useReducer","useEffect","useMemo","TOGGLE_THEME","SET_DATA","initialState","theme","data","ContextGlobal","themeReducer","state","action","type","payload","ContextProvider","children","dispatch","fetchData","fetch","response","json","toggleTheme","value"],"sources":["C:/Users/Junior/Documents/DIGITAL HOUSE/Front end 3 - C2/EJERCICIOS/fe3-final/src/Components/utils/global.context.jsx"],"sourcesContent":["import React, { createContext, useReducer, useEffect, useMemo } from 'react';\r\n\r\n\r\nconst TOGGLE_THEME = 'TOGGLE_THEME';\r\nconst SET_DATA = 'SET_DATA';\r\n\r\nexport const initialState = {theme: \"light\", data: []}\r\n\r\nexport const ContextGlobal = createContext(initialState);\r\n\r\nconst themeReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case TOGGLE_THEME:\r\n      return {\r\n        ...state,\r\n        theme: state.theme === 'light' ? 'dark' : 'light',\r\n      };\r\n    case SET_DATA:\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const ContextProvider = ({ children }) => {\r\n  //Aqui deberan implementar la logica propia del Context, utilizando el hook useMemo\r\n  const [state, dispatch] = useReducer(themeReducer, initialState);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const response = await fetch('https://jsonplaceholder.typicode.com/users'); // Cambia esto por la URL de tu API\r\n      const data = await response.json();\r\n      dispatch({ type: SET_DATA, payload: data });\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Función para alternar el tema\r\n  const toggleTheme = () => {\r\n    dispatch({ type: TOGGLE_THEME });\r\n  };\r\n\r\n  // Memoriza el valor del contexto\r\n  const value = useMemo(() => ({\r\n    state,\r\n    toggleTheme,\r\n  }), [state]);\r\n\r\n  return (\r\n    <ContextGlobal.Provider value={value}>\r\n      {children}\r\n    </ContextGlobal.Provider>\r\n  );\r\n};\r\n"],"mappings":"2pBAAA,MAAOA,MAAP,EAAgBC,aAAhB,CAA+BC,UAA/B,CAA2CC,SAA3C,CAAsDC,OAAtD,KAAqE,OAArE,C,2CAGA,GAAMC,aAAY,CAAG,cAArB,CACA,GAAMC,SAAQ,CAAG,UAAjB,CAEA,MAAO,IAAMC,aAAY,CAAG,CAACC,KAAK,CAAE,OAAR,CAAiBC,IAAI,CAAE,EAAvB,CAArB,CAEP,MAAO,IAAMC,cAAa,cAAGT,aAAa,CAACM,YAAD,CAAnC,CAEP,GAAMI,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACtC,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKT,aAAL,CACE,sCACKO,KADL,MAEEJ,KAAK,CAAEI,KAAK,CAACJ,KAAN,GAAgB,OAAhB,CAA0B,MAA1B,CAAmC,OAF5C,GAIF,IAAKF,SAAL,CACE,sCACKM,KADL,MAEEH,IAAI,CAAEI,MAAM,CAACE,OAFf,GAIF,QACE,MAAOH,MAAP,CAZJ,CAcD,CAfD,CAiBA,MAAO,IAAMI,gBAAe,CAAG,QAAlBA,gBAAkB,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CAC/C;AACA,gBAA0Bf,UAAU,CAACS,YAAD,CAAeJ,YAAf,CAApC,4CAAOK,KAAP,iBAAcM,QAAd,iBAEAf,SAAS,CAAC,UAAM,CACd,GAAMgB,UAAS,6FAAG,6KACOC,MAAK,CAAC,4CAAD,CADZ,QACVC,QADU,qCAEGA,SAAQ,CAACC,IAAT,EAFH,QAEVb,IAFU,eAGhBS,QAAQ,CAAC,CAAEJ,IAAI,CAAER,QAAR,CAAkBS,OAAO,CAAEN,IAA3B,CAAD,CAAR,CAHgB,sDAAH,kBAATU,UAAS,2CAAf,CAKAA,SAAS,GACV,CAPQ,CAON,EAPM,CAAT,CASA;AACA,GAAMI,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxBL,QAAQ,CAAC,CAAEJ,IAAI,CAAET,YAAR,CAAD,CAAR,CACD,CAFD,CAIA;AACA,GAAMmB,MAAK,CAAGpB,OAAO,CAAC,iBAAO,CAC3BQ,KAAK,CAALA,KAD2B,CAE3BW,WAAW,CAAXA,WAF2B,CAAP,EAAD,CAGjB,CAACX,KAAD,CAHiB,CAArB,CAKA,mBACE,KAAC,aAAD,CAAe,QAAf,EAAwB,KAAK,CAAEY,KAA/B,UACGP,QADH,EADF,CAKD,CA7BM"},"metadata":{},"sourceType":"module"}